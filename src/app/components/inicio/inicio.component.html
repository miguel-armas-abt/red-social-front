<div class="row">

</div>
<div class="row">
  <div class="col"></div>
  <div class="col-md-8 align-center">

    <div class="card publicacion">
      <div class="card-header">
        <img width="55" height="55" src="../../../assets/img2.jpg" alt="" style="border-radius: 100%;">
      </div>
      <div class="card-body">
        <form (ngSubmit)="publicar()" novalidate #f="ngForm">
          <div class="form-group">
            <input type="text" class="form-control" name="textoNuevaPublicacion" [(ngModel)]="textoNuevaPublicacion"
              required>
          </div>
          <button class="btn btn-success btn-block" [disabled]="!f.valid">Publicar</button>
        </form>
      </div>
    </div>


    <mat-card class="example-card" *ngFor="let publicacionCard of publicacionesCards">
      <mat-card-header>
        <div mat-card-avatar class="example-header-image"></div>
        <mat-card-title>{{publicacionCard.usuario.name}}</mat-card-title>
        <mat-card-subtitle>Dog Breed</mat-card-subtitle>
      </mat-card-header>
      <img mat-card-image src="https://material.angular.io/assets/img/examples/shiba2.jpg" alt="Photo of a Shiba Inu">
      <mat-card-content>
        Ver {{publicacionCard.comentarios.length}} comentarios
        <p>{{publicacionCard.publicacion.text}}</p>

        <p>
          <a class="btn btn-light" data-toggle="collapse" href="#comentariosCollapse" role="button"
            aria-expanded="false" aria-controls="collapseExample">
            Ver {{publicacionCard.comentarios.length}} comentarios
          </a>
        </p>

        <div class="form-inline">
          <form #f="ngForm" (click)="onComentar(publicacionCard)" novalidate>
            <div class="form-group">
              <input type="text" name="comentario" id="comentario" class="form-control"
                placeholder="Escribe un comentario..." aria-label="comentario" aria-describedby="basic-addon1"
                style="width: 90%;" [(ngModel)]="comentario">
            </div>
            <div class="form-group">
              <button class="btn btn-outline-success">Comentar</button>
            </div>
          </form>

        </div>

        <!-- comentarios -->
        <div class="collapse" id="comentariosCollapse">
          <div class="card card-body" *ngFor="let comentario of publicacionCard.comentarios">
            {{comentario.textComment}}
          </div>
        </div>

      </mat-card-content>
      <mat-card-actions>
        <button mat-button>LIKE</button>
        <button mat-button>SHARE</button>
      </mat-card-actions>
    </mat-card>

</div>